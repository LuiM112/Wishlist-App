<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit User Profile</title>
    <link th:href="@{/css/profile.css}" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
<h1 class="p-5 text-center">Profile</h1> <br>
<p class="text-center" th:text="${Error_Msg}"></p><br>
<p class="text-center" th:text="${param.update_success}"></p><br>
<form th:action="@{/}" class="ps-5">
    <input class="btn btn-primary" type="submit" value="Back">
</form>

<div class="container text-center d-flex justify-content-center">
    <div class="row">
        <!-- First Column -->
        <div class="col-md">
            <th:block>
                <img th:src="${(ImageValid == true) ? user.getUserImgUrl() : '/images/defaultUserImg.png'}" src="../static/images/defaultUserImg.png" width="500" class="img-fluid rounded" alt="An image of your profile"><br>
            </th:block>
        </div>

        <!-- Second Column -->
        <div class="col-sm">
            <form th:action="@{/profile_edit}" method="POST">
                <div class="input-group">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                    <input id="username" type="text" class="form-control" name="username" placeholder="Username" th:value="${user?.getUsername()}">
                </div><br>
                <div class="input-group">
                    <textarea placeholder="User Bio" th:align="right" id="bio" name="bio" class="form-control" rows="5" cols="30" th:text="${user?.getUserBio()}"></textarea>
                </div><br>

                <input id="imageUrl" type="text" class="form-control" name="imageUrl" placeholder="Image Url" th:value="${user?.getUserImgUrl()}"> <br>
                <input class="form-control btn btn-primary" type="submit" value="Update Profile">
            </form><br>
        </div>
    </div>
</div>


</body>
</html>